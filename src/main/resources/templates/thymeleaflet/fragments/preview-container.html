<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<body>

<!--
/**
 * 統一プレビューコンテナフラグメント
 * 
 * 全てのフラグメントプレビュー表示を統一したスタイルで提供する汎用的なコンテナコンポーネント。
 * 背景色切替機能、カスタムクラス、レスポンシブ対応を包含。
 * 
 * @fragment container - メインプレビューコンテナフラグメント
 * @param showBackgroundToggle {@code Boolean} [optional=true] 背景色切替ボタン表示
 * @param additionalClasses {@code String} [optional] 追加CSSクラス
 * @param containerId {@code String} [optional=preview-container] コンテナID
 * @param borderColor {@code String} [optional=zinc-300] ボーダー色 (gray-200, zinc-300等)
 * @param minHeight {@code String} [optional=min-h-32] 最小高さ
 * @param hxGet {@code String} [optional] hx-get 付与値
 * @param hxTrigger {@code String} [optional] hx-trigger 付与値
 * @param hxTarget {@code String} [optional] hx-target 付与値
 * @param hxSwap {@code String} [optional] hx-swap 付与値
 * @param contentFragment {@code Fragment} [optional] プレビューコンテンツ差し込み用フラグメント
 * 
 * @example
 * // 基本的なプレビューコンテナ
 * <div th:replace="~{thymeleaflet/fragments/preview-container :: container()}"></div>
 * 
 * @example
 * // 背景色切替なし、カスタムクラス付き
 * <div th:replace="~{thymeleaflet/fragments/preview-container :: container(false, 'my-custom-class')}"></div>
 * 
 * @example
 * // カスタムボーダー色と高さ
 * <div th:replace="~{thymeleaflet/fragments/preview-container :: container(true, null, 'custom-preview', 'gray-200', 'min-h-64')}"></div>
 *
 * @example
 * // 追加属性とコンテンツを差し込み
 * <div id="preview-content-slot">
 *   <div>Preview content...</div>
 * </div>
 * <div th:replace="~{thymeleaflet/fragments/preview-container :: container(true, null, null, null, null, '/path', 'load', 'this', 'innerHTML', ~{::#preview-content-slot})}"></div>
 */
-->
<div th:fragment="container(showBackgroundToggle, additionalClasses, containerId, borderColor, minHeight, hxGet, hxTrigger, hxTarget, hxSwap, contentFragment)"
     th:with="
        toggleButton=${showBackgroundToggle != null ? showBackgroundToggle : true},
        customClasses=${additionalClasses ?: ''},
        containerIdName=${containerId ?: 'preview-container'},
        borderColorClass=${borderColor ?: 'zinc-300'},
        minHeightClass=${minHeight ?: 'min-h-32'},
        hxGetValue=${hxGet},
        hxTriggerValue=${hxTrigger},
        hxTargetValue=${hxTarget},
        hxSwapValue=${hxSwap},
        previewContentFragment=${contentFragment}
     ">
    
    <div th:if="${toggleButton}" class="flex justify-end mb-4">
        <button id="background-toggle" 
                class="btn-thymeleaflet-secondary btn-thymeleaflet-small"
                onclick="togglePreviewBackground()"
                th:attr="title=#{thymeleaflet.preview.toggle}">
            <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
                      d="M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zM21 5a2 2 0 00-2-2h-4a2 2 0 00-2 2v12a4 4 0 004 4h4a2 2 0 002-2V5z"/>
            </svg>
            <span th:text="#{thymeleaflet.preview.toggle}">Toggle background</span>
        </button>
    </div>
    
    <!-- プレビューコンテナ本体 -->
    <div th:id="${containerIdName}" 
         th:class="'border-2 border-solid border-' + ${borderColorClass} + ' rounded-lg ' + ${minHeightClass} + ' preview-background-light ' + ${customClasses}"
         th:attr="hx-get=${hxGetValue}, hx-trigger=${hxTriggerValue}, hx-target=${hxTargetValue}, hx-swap=${hxSwapValue}">
        
        <!-- プレビューコンテンツ -->
        <div class="preview-content w-full flex-1">
            <!-- HTMXまたは動的コンテンツがここに挿入される -->
            <div th:if="${previewContentFragment != null}" th:replace="${previewContentFragment}"></div>
        </div>
    </div>
</div>

<!--
/**
 * シンプルプレビューコンテナフラグメント
 * 
 * 背景色切替ボタンなしのシンプルなプレビューコンテナ。
 * 基本的なプレビュー表示のみが必要な場合に使用。
 * 
 * @fragment simple - シンプルプレビューコンテナフラグメント
 * @param additionalClasses {@code String} [optional] 追加CSSクラス
 * @param borderColor {@code String} [optional=gray-200] ボーダー色
 * 
 * @example
 * // シンプルなプレビューコンテナ
 * <div th:replace="~{thymeleaflet/fragments/preview-container :: simple()}"></div>
 * 
 * @example
 * // カスタムクラス付きシンプルコンテナ
 * <div th:replace="~{thymeleaflet/fragments/preview-container :: simple('text-center', 'gray-300')}"></div>
 */
-->
<div th:fragment="simple(additionalClasses, borderColor)"
     th:with="
        customClasses=${additionalClasses ?: ''},
        borderColorClass=${borderColor ?: 'gray-200'}
     "
     th:class="'border-2 border-solid border-' + ${borderColorClass} + ' p-8 rounded-lg min-h-20 preview-background-light ' + ${customClasses}">
    
    <!-- プレビューコンテンツ -->
    <div class="preview-content w-full flex-1">
        <!-- 静的コンテンツがここに挿入される -->
    </div>
</div>

</body>
</html>
