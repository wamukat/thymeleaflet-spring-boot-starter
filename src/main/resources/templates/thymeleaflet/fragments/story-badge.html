<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<body>

<!--
/**
 * ストーリーバッジ表示フラグメント
 * 
 * ストーリーの種別（Story/Fallback）に応じてラベルを表示する。
 * hasStoryConfig()の結果に基づいて色分けとテキストを決定。
 * 
 * @fragment badge - Story/Fallbackラベル表示
 * @param story {@code Story} [required] ストーリー情報オブジェクト
 * 
 * @example <div th:replace="~{thymeleaflet/fragments/story-badge :: badge(${story})}"></div>
 */
-->
<span th:fragment="badge(story)"
      th:class="${story.storyName == 'custom' ? 'badge-custom' : (story.hasStoryConfig() ? 'badge-story' : 'badge-fallback')}">
    <span th:if="${story.storyName == 'custom'}" class="inline-flex items-center gap-1">
        <svg class="w-3 h-3" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
            <path d="M17.414 2.586a2 2 0 010 2.828l-9.193 9.193a1 1 0 01-.39.242l-3.5 1.25a1 1 0 01-1.272-1.272l1.25-3.5a1 1 0 01.242-.39l9.193-9.193a2 2 0 012.828 0zM15 4l-8.5 8.5-.5 1.5 1.5-.5L16 5l-1-1z"/>
        </svg>
        <span>Custom</span>
    </span>
    <span th:if="${story.storyName != 'custom'}"
          th:text="${story.hasStoryConfig() ? #messages.msg('thymeleaflet.badge.story') : #messages.msg('thymeleaflet.badge.fallback')}">
        Story
    </span>
</span>

<!--
/**
 * ストーリーバッジ表示フラグメント（クラス指定）
 * 
 * 追加クラスを指定して、Story/Fallbackラベルを表示する。
 * 
 * @fragment badgeWithClasses - 追加クラス対応バッジ
 * @param story {@code Story} [required] ストーリー情報オブジェクト
 * @param additionalClasses {@code String} [optional=''] 追加CSSクラス
 * 
 * @example <div th:replace="~{thymeleaflet/fragments/story-badge :: badgeWithClasses(${story}, 'ml-2 flex-shrink-0')}"></div>
 */
-->
<span th:fragment="badgeWithClasses(story, additionalClasses)"
      th:class="${(additionalClasses ?: '') + (story.storyName == 'custom' ? ' badge-custom' : (story.hasStoryConfig() ? ' badge-story' : ' badge-fallback'))}">
    <span th:if="${story.storyName == 'custom'}" class="inline-flex items-center gap-1">
        <svg class="w-3 h-3" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
            <path d="M17.414 2.586a2 2 0 010 2.828l-9.193 9.193a1 1 0 01-.39.242l-3.5 1.25a1 1 0 01-1.272-1.272l1.25-3.5a1 1 0 01.242-.39l9.193-9.193a2 2 0 012.828 0zM15 4l-8.5 8.5-.5 1.5 1.5-.5L16 5l-1-1z"/>
        </svg>
        <span>Custom</span>
    </span>
    <span th:if="${story.storyName != 'custom'}"
          th:text="${story.hasStoryConfig() ? #messages.msg('thymeleaflet.badge.story') : #messages.msg('thymeleaflet.badge.fallback')}">
        Story
    </span>
</span>

</body>
</html>
